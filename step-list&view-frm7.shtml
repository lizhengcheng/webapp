<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=0,minimal-ui">
  <title>流程列表</title>
  <link rel="stylesheet" href="dist/css/template.style.css" />
  <link rel="stylesheet" href="dist/css/template.style.ios.css" />
  <link rel="stylesheet" href="dist/css/template.style.colors.css" />
</head>

<body class="theme-green">
  <div class="views">
    <div class="view">
      <header class="wh-header navbar">
        <div class="wh-wrapper">
          <div class="wh-hd-op-left"></div>
          <div class="wh-container">
            <nav class="wh-info-nav">
              <ul class="wh-i-n-default swiper-wrapper">
                <li class="col-xs-3 swiper-slide nav-active" data-checkbox="check"><a href="#stp1" class="external">1</a><em><i class="fa fa-check-circle"></i></em></li>
                <li class="col-xs-3 swiper-slide" data-checkbox="uncheck"><a href="#stp2" class="external">2</a><em><i class="fa fa-check-circle"></i></em></li>
                <li class="col-xs-3 swiper-slide" data-checkbox="uncheck"><a href="#stp3" class="external">3</a><em><i class="fa fa-check-circle"></i></em></li>
                <li class="col-xs-3 swiper-slide" data-checkbox="uncheck"><a href="#stp4" class="external">4</a><em><i class="fa fa-check-circle"></i></em></li>
                <li class="col-xs-3 swiper-slide" data-checkbox="uncheck"><a href="#stp5" class="external">5</a><em><i class="fa fa-check-circle"></i></em></li>
                <li class="col-xs-3 swiper-slide" data-checkbox="uncheck"><a href="#stp6" class="external">6</a><em><i class="fa fa-check-circle"></i></em></li>
              </ul>
            </nav>
          </div>
          <div class="wh-hd-op-right"></div>
        </div>
      </header>
      <div class="pages">
        <div class="page">
          <section class="wh-section wh-section-topfixed">
            <article id="scroller" class="wh-edit wh-edit-forum">
              <div>
                <span class="wh-place-holder" id="stp1" name="stp1"></span>
                <div class="wh-edit-lists wh-edit-list-d">
                  <div class="wh-r-tbbox wh-full-tbbox">
                    <table class="wh-table-edit">
                      <tr>
                        <th>锚点示例1<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r" type="text" placeholder="姓名" />
                        </td>
                      </tr>
                      <tr>
                        <th>带箭头选择<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow" type="text" readonly="" value="" name="select" placeholder="请选择&nbsp;&#xf054;">
                        </td>
                      </tr>
                      <tr>
                        <th>帖子标题<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow" type="text" placeholder="请输入" />
                        </td>
                      </tr>
                      <tr>
                        <th>单选表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <ul class="edit-radio">
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">实名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">匿名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">昵称</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">一个月</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">两个月</span>
                              </label>
                            </li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <th>日期表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow " id="picker-date" type="text" name="scroller" placeholder="选择日期&nbsp;" readonly="">
                        </td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r">请打开填写</a></td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r edit-slt-r-b">已有3条数据</a></td>
                      </tr>
                    </table>
                  </div>
                </div>
                <span class="wh-place-holder" id="stp2" name="stp2"></span>
                <div class="wh-edit-lists wh-edit-list-d">
                  <div class="wh-r-tbbox wh-full-tbbox">
                    <table class="wh-table-edit">
                      <tr>
                        <th>锚点示例2<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r" type="text" placeholder="姓名" />
                        </td>
                      </tr>
                      <tr>
                        <th>带箭头选择<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow picker-date" type="text" name="scroller" placeholder="选择日期&nbsp;" readonly="">
                        </td>
                      </tr>
                      <tr>
                        <th>帖子标题<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow" type="text" placeholder="请输入" />
                        </td>
                      </tr>
                      <tr>
                        <th>单选表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <ul class="edit-radio">
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">实名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">匿名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">昵称</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">一个月</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">两个月</span>
                              </label>
                            </li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <th>日期表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow picker-date" type="text" name="scroller" placeholder="选择日期&nbsp;" readonly="">
                        </td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r">请打开填写</a></td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r edit-slt-r-b">已有3条数据</a></td>
                      </tr>
                    </table>
                  </div>
                </div>
                <span class="wh-place-holder" id="stp3" name="stp3"></span>
                <div class="wh-edit-lists wh-edit-list-d">
                  <div class="wh-r-tbbox wh-full-tbbox">
                    <table class="wh-table-edit">
                      <tr>
                        <th>锚点示例3<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r" type="text" placeholder="姓名" />
                        </td>
                      </tr>
                      <tr>
                        <th>带箭头选择<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow" type="text" readonly="" value="" name="select" placeholder="请选择&nbsp;&#xf054;">
                        </td>
                      </tr>
                      <tr>
                        <th>帖子标题<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow" type="text" placeholder="请输入" />
                        </td>
                      </tr>
                      <tr>
                        <th>单选表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <ul class="edit-radio">
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">实名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">匿名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">昵称</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">一个月</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">两个月</span>
                              </label>
                            </li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <th>日期表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow picker-date" type="text" name="scroller" placeholder="选择日期&nbsp;" readonly="">
                        </td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r">请打开填写</a></td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r edit-slt-r-b">已有3条数据</a></td>
                      </tr>
                    </table>
                  </div>
                </div>
                <span class="wh-place-holder" id="stp4" name="stp4"></span>
                <div class="wh-edit-lists wh-edit-list-d">
                  <div class="wh-r-tbbox wh-full-tbbox">
                    <table class="wh-table-edit">
                      <tr>
                        <th>锚点示例4<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r" type="text" placeholder="姓名" />
                        </td>
                      </tr>
                      <tr>
                        <th>带箭头选择<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow" type="text" readonly="" value="" name="select" placeholder="请选择&nbsp;&#xf054;">
                        </td>
                      </tr>
                      <tr>
                        <th>帖子标题<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow" type="text" placeholder="请输入" />
                        </td>
                      </tr>
                      <tr>
                        <th>单选表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <ul class="edit-radio">
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">实名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">匿名</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">昵称</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">一个月</span>
                              </label>
                            </li>
                            <li>
                              <label class="label-radio item-content">
                                <input type="radio" name="my-radio" value="实名">
                                <span class="edit-radio-l">两个月</span>
                              </label>
                            </li>
                          </ul>
                        </td>
                      </tr>
                      <tr>
                        <th>日期表单域<i class="fa fa-asterisk"></i>：</th>
                        <td>
                          <input class="edit-ipt-r edit-ipt-arrow picker-date" type="text" name="scroller" placeholder="选择日期&nbsp;" readonly="">
                        </td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r">请打开填写</a></td>
                      </tr>
                      <tr>
                        <th>子表填写示例<i class="fa fa-asterisk"></i>：</th>
                        <td><a href="#" class="edit-slt-r edit-slt-r-b">已有3条数据</a></td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </article>
          </section>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="template/js/template.min.js"></script>
  <script type="text/javascript">
  var myApp = new Framework7();
  var $$ = Dom7;

  var infoNavswiper = new Swiper('.wh-info-nav', {
    //pagination: '.swiper-pagination',
    slidesPerView: 6,
    spaceBetween: 0,
    freeMode: true
  });

  // 点击切换nav状态
  var infoNav = $$('.wh-info-nav');
  var infoNavli = $$('.wh-info-nav .wh-i-n-default li');
  infoNavli.eq(0).addClass("nav-active");
  infoNavli.on("click", function() {
    var $$this = $$(this);
    infoNavli.removeClass("nav-active").data("checkbox", 'uncheck');
    $$this.addClass("nav-active").data("checkbox", 'check');
  });

  //滚动跟随切换nav状态
  var timeId = 0;
  $$('section.wh-section').on('scroll', function() {
    if (timeId) {
      clearTimeout(timeId);
      timeId = 0;
    }
    var $this = $$(this);
    timeId = setTimeout(function() {
      var top = $this.scrollTop();
      var lastMark = null;
      var topA = $this.find('.wh-place-holder').each(function(index, item) {
        console.log($$(this).offset().top);
        if ($$(this).offset().top <= 0) {
          lastMark = $$(this);
        } else {
          return false;
        }
      });
      var attrId = lastMark.attr('id');
      $$('.swiper-slide a').each(function() {
        var link = $$(this).attr('href');
        if (link.substr(link.indexOf('#') + 1) === attrId) {
          $$('.swiper-slide').removeClass('nav-active');
          var index = $$(this).parent().addClass('nav-active');
          // infoNavswiper.slideTo(index);
        }
      })
    }, 300)
  });

  //日期控件 
  var today = new Date();
  var pickerDate = myApp.picker({
    input: "#picker-date",
    toolbarTemplate: '<div class="toolbar">' +
      '<div class="toolbar-inner">' +
      '<div class="left">' +
      '<a href="#" class="link reset-picker">重设</a>' +
      '</div>' +
      '<div class="right">' +
      '<a href="#" class="link close-picker">完成</a>' +
      '</div>' +
      '</div>' +
      '</div>',

    //当触发的时候
    onOpen: function(picker, values, displayValues) {
      var todayArr = [today.getFullYear(), today.getMonth(), today.getDate(), today.getHours(), (today.getMinutes() < 10 ? '0' + today.getMinutes() : today.getMinutes())];
      picker.setValue(todayArr);
      picker.container.find('.reset-picker').on('click', function() {
        picker.setValue(todayArr);
      })
    },
    onChange: function(picker, values, displayValues) {
      //获取当前月份的总天数
      var daysInMonth = new Date(picker.value[0], picker.value[1] * 1, 0).getDate();
      //如果设置月数大于当前月的总天数，设置天数为总天数
      if (values[2] > daysInMonth) {
        picker.cols[2].setValue(daysInMonth);
      }
    },
    //返回给input的格式，“-” 可以换成“年月日”
    formatValue: function(p, values, displayValues) {
      return values[0] + '-' + values[1] + '-' + values[2] + ',' + values[3] + ':' + values[4];
    },
    //返回 value数组
    cols: [
      // 年
      {
        values: (function() {
          var arr = [];
          for (var i = 1990; i <= 2030; i++) {
            arr.push(i);
          }
          return arr;
        })(),
      },
      // 月
      {
        values: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      },
      // 日
      {
        values: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31],
      },
      // 空格
      {
        divider: true,
        content: ' '
      },
      // 时
      {
        values: (function() {
          var arr = [];
          for (var i = 0; i <= 23; i++) {
            arr.push(i);
          }
          return arr;
        })(),
      },
      // 冒号
      {
        divider: true,
        content: ':'
      },
      // 分
      {
        values: (function() {
          var arr = [];
          for (var i = 0; i <= 59; i++) {
            arr.push(i < 10 ? '0' + i : i);
          }
          return arr;
        })(),
      }
    ]
  });
  </script>
</body>

</html>
