
<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <title>填写日志</title>
  <link rel="stylesheet" href="template/css/template.style.ios.min.css" />
  <link rel="stylesheet" href="template/css/template.style.min.css" />
  <link rel="stylesheet" href="template/css/template.style.colors.min.css" />
</head>

<body class="theme-green">
  <div class="views">
    <div class="view view-content">
      <div class="pages">
        <div class="page">  
          <section id="sectionScroll" class="wh-section wh-section-bottomfixed"> 
            <article class="wh-edit wh-edit-forum wh-article-log-edit">
              <div>
                <div class="log-edit-tip clearfix">
                  <ul>
                    <li class="current">
                      <div class="org"><span>晴</span><i class="fa fa-check-circle"></i></div>
                    </li>
                    <li>
                      <div class="blue"><span>雨</span><i class="fa fa-check-circle"></i></div>
                    </li>
                    <li>
                      <div class="zee"><span>阴</span><i class="fa fa-check-circle"></i></div>
                    </li>
                    <li>
                      <div class="yel"><span>雪</span><i class="fa fa-check-circle"></i></div>
                    </li>
                  </ul>
                </div> 
                <table class="wh-table-edit">
                  <tbody>
                    <tr>
                      <th>日期：</th> 
                      <td>
                        <input class="edit-ipt-r edit-ipt-arrow" id="picker-date" type="text" name="scroller" placeholder="选择日期&nbsp;" readonly="">
                      </td>
                    </tr>
                    <tr>
                      <th>日志类型：</th>
                      <td>
                        <ul class="edit-radio">
                          <li> 
                            <label class="label-radio item-content">
                            <input type="radio" name="my-radio" value="实名">
                            <span class="edit-radio-l">全天日志</span>
                          </label>
                          </li>
                          <li> 
                            <label class="label-radio item-content">
                            <input type="radio" name="my-radio" value="实名">
                            <span class="edit-radio-l">分时段日志</span>
                          </label>
                          </li>
                        </ul>
                      </td>
                    </tr>
                    <tr>
                      <th>工时：</th>
                      <td>
                        <div class="edit-ipt-r">
                          <i class="fa fa-minus-circle"></i>
                          <span>8小时</span>
                          <i class="fa fa-plus-circle"></i>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>分时段：</th>
                      <td>
                        <div class="edit-ipt-r">
                          <i class="fa fa-minus-circle"></i>
                          <span>8:30</span>
                          <i class="fa fa-plus-circle"></i>
                          <em>至</em>
                          <i class="fa fa-minus-circle"></i>
                          <span>8:30</span>
                          <i class="fa fa-plus-circle"></i>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>内容<i class="fa fa-asterisk"></i>：</th>
                      <td>
                        <div class="edit-txta-box">
                          <textarea class="edit-txta edit-txta-l" placeholder="请输入文字"></textarea>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>结果<i class="fa fa-asterisk"></i>：</th>
                      <td>
                        <input class="edit-ipt-r" type="text" placeholder="请填写" />
                      </td>
                    </tr>
                    <tr>
                      <th>工时：</th>
                      <td>
                        <div class="edit-ipt-r">
                          <i class="fa fa-minus-circle"></i>
                          <span>8小时</span>
                          <i class="fa fa-plus-circle"></i>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>分时段：</th>
                      <td>
                        <div class="edit-ipt-r">
                          <i class="fa fa-minus-circle"></i>
                          <span>8:30</span>
                          <i class="fa fa-plus-circle"></i>
                          <em>至</em>
                          <i class="fa fa-minus-circle"></i>
                          <span>8:30</span>
                          <i class="fa fa-plus-circle"></i>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>内容<i class="fa fa-asterisk"></i>：</th>
                      <td>
                        <div class="edit-txta-box">
                          <textarea class="edit-txta edit-txta-l" placeholder="请输入文字"></textarea>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>结果<i class="fa fa-asterisk"></i>：</th>
                      <td>
                        <input class="edit-ipt-r" type="text" placeholder="请填写" />
                      </td>
                    </tr>
                    <tr>
                      <th>工时：</th>
                      <td>
                        <div class="edit-ipt-r">
                          <i class="fa fa-minus-circle"></i>
                          <span>8小时</span>
                          <i class="fa fa-plus-circle"></i>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>分时段：</th>
                      <td>
                        <div class="edit-ipt-r">
                          <i class="fa fa-minus-circle"></i>
                          <span>8:30</span>
                          <i class="fa fa-plus-circle"></i>
                          <em>至</em>
                          <i class="fa fa-minus-circle"></i>
                          <span>8:30</span>
                          <i class="fa fa-plus-circle"></i>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>内容<i class="fa fa-asterisk"></i>：</th>
                      <td>
                        <div class="edit-txta-box">
                          <textarea class="edit-txta edit-txta-l" placeholder="请输入文字"></textarea>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>结果<i class="fa fa-asterisk"></i>：</th>
                      <td>
                        <input class="edit-ipt-r" type="text" placeholder="请填写" />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </article>
          </section>
          <footer class="wh-footer wh-footer-forum">
            <div class="wh-wrapper">
              <div class="wh-container">
                <div class="wh-footer-btn row">
                  <a href="#" class="fbtn-matter col-100">提交日志</a>
                </div>
              </div>
            </div>
          </footer>
        </div>
      </div>
    </div>
  </div>
  <script src="template/js/template.min.js"></script>
  <script type="text/javascript"> 
  var myApp = new Framework7();
  var $$ = Dom7;  

  //切换状态
  $$(".log-edit-tip li").click(function(){
    $$(".log-edit-tip li").removeClass("current");
    $$(this).addClass("current");
  })

  //日期选择器
  var today = new Date();
  var pickerDate = myApp.picker({
    input: '#picker-date',
    toolbarTemplate: '<div class="toolbar">' +
      '<div class="toolbar-inner">' +
      '<div class="left">' +
      '<a href="#" class="link reset-picker">重设</a>' +
      '</div>' +
      '<div class="right">' +
      '<a href="#" class="link close-picker">完成</a>' +
      '</div>' +
      '</div>' +
      '</div>',

    //当触发的时候
    onOpen: function(picker, values, displayValues) {
      var todayArr = [today.getFullYear(), today.getMonth(), today.getDate(), today.getHours(), (today.getMinutes() < 10 ? '0' + today.getMinutes() : today.getMinutes())];
      picker.setValue(todayArr);
      picker.container.find('.reset-picker').on('click', function() {
        picker.setValue(todayArr);
      })
    },
    onChange: function(picker, values, displayValues) {
      //获取当前月份的总天数
      var daysInMonth = new Date(picker.value[0], picker.value[1] * 1, 0).getDate();
      //如果设置月数大于当前月的总天数，设置天数为总天数
      if (values[2] > daysInMonth) {
        picker.cols[2].setValue(daysInMonth);
      }
    },
    //返回给input的格式，“-” 可以换成“年月日”
    formatValue: function(p, values, displayValues) {
      return values[0] + '-' + values[1] + '-' + values[2] + ',' + values[3] + ':' + values[4];
    },
    //返回 value数组
    cols: [
      // 年
      {
        values: (function() {
          var arr = [];
          for (var i = 1990; i <= 2030; i++) {
            arr.push(i);
          }
          return arr;
        })(),
      },
      // 月
      {
        values: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      },
      // 日
      {
        values: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31],
      },
      // 空格
      {
        divider: true,
        content: ' '
      },
      // 时
      {
        values: (function() {
          var arr = [];
          for (var i = 0; i <= 23; i++) {
            arr.push(i);
          }
          return arr;
        })(),
      },
      // 冒号
      {
        divider: true,
        content: ':'
      },
      // 分
      {
        values: (function() {
          var arr = [];
          for (var i = 0; i <= 59; i++) {
            arr.push(i < 10 ? '0' + i : i);
          }
          return arr;
        })(),
      }
    ]
  });
 
  </script>
</body>

</html>
